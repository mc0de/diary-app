webpackJsonp([1],{117:function(t,e,n){var r=n(46)(n(333),n(335),!1,null,null,null);t.exports=r.exports},120:function(t,e,n){var r="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!r)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var o=n(125),s={},i=r&&(document.head||document.getElementsByTagName("head")[0]),a=null,d=0,l=!1,u=function(){},c=null,f="data-vue-ssr-id",p="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function h(t){for(var e=0;e<t.length;e++){var n=t[e],r=s[n.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](n.parts[o]);for(;o<n.parts.length;o++)r.parts.push(y(n.parts[o]));r.parts.length>n.parts.length&&(r.parts.length=n.parts.length)}else{var i=[];for(o=0;o<n.parts.length;o++)i.push(y(n.parts[o]));s[n.id]={id:n.id,refs:1,parts:i}}}}function v(){var t=document.createElement("style");return t.type="text/css",i.appendChild(t),t}function y(t){var e,n,r=document.querySelector("style["+f+'~="'+t.id+'"]');if(r){if(l)return u;r.parentNode.removeChild(r)}if(p){var o=d++;r=a||(a=v()),e=b.bind(null,r,o,!1),n=b.bind(null,r,o,!0)}else r=v(),e=function(t,e){var n=e.css,r=e.media,o=e.sourceMap;r&&t.setAttribute("media",r);c.ssrId&&t.setAttribute(f,e.id);o&&(n+="\n/*# sourceURL="+o.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,r),n=function(){r.parentNode.removeChild(r)};return e(t),function(r){if(r){if(r.css===t.css&&r.media===t.media&&r.sourceMap===t.sourceMap)return;e(t=r)}else n()}}t.exports=function(t,e,n,r){l=n,c=r||{};var i=o(t,e);return h(i),function(e){for(var n=[],r=0;r<i.length;r++){var a=i[r];(d=s[a.id]).refs--,n.push(d)}e?h(i=o(t,e)):i=[];for(r=0;r<n.length;r++){var d;if(0===(d=n[r]).refs){for(var l=0;l<d.parts.length;l++)d.parts[l]();delete s[d.id]}}}};var m,g=(m=[],function(t,e){return m[t]=e,m.filter(Boolean).join("\n")});function b(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=g(e,o);else{var s=document.createTextNode(o),i=t.childNodes;i[e]&&t.removeChild(i[e]),i.length?t.insertBefore(s,i[e]):t.appendChild(s)}}},125:function(t,e){t.exports=function(t,e){for(var n=[],r={},o=0;o<e.length;o++){var s=e[o],i=s[0],a={id:t+":"+o,css:s[1],media:s[2],sourceMap:s[3]};r[i]?r[i].parts.push(a):n.push(r[i]={id:i,parts:[a]})}return n}},138:function(t,e,n){var r=n(46)(n(141),n(142),!1,function(t){n(139)},"data-v-55f050d7",null);t.exports=r.exports},139:function(t,e,n){var r=n(140);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);n(120)("20583ceb",r,!0,{})},140:function(t,e,n){(t.exports=n(113)(!1)).push([t.i,".dropzone[data-v-55f050d7]{border:2px dashed #bbb;border-radius:5px;padding:25px;text-align:center;font-size:1.2em;font-weight:700;color:#bbb}",""])},141:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(47);(r=o)&&r.__esModule;e.default={props:["entryId"],methods:{dragover:function(t){},readFiles:function(t){for(var e=t.target.files||t.dataTransfer.files,n=0;n<e.length;n++)this.$store.dispatch("storeMedia",{entryId:this.entryId,blob:e[n]})}}}},142:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"form-group dropzone",on:{drop:function(e){e.preventDefault(),t.readFiles(e)},dragover:function(e){e.preventDefault(),t.dragover(e)}}},[t._v("\n        DROP MEDA FILES HERE\n    ")])])},staticRenderFns:[]}},143:function(t,e,n){var r=n(46)(n(146),n(147),!1,function(t){n(144)},"data-v-038b3e28",null);t.exports=r.exports},144:function(t,e,n){var r=n(145);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);n(120)("4d17a638",r,!0,{})},145:function(t,e,n){(t.exports=n(113)(!1)).push([t.i,"img[data-v-038b3e28]{max-width:250px}",""])},146:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["entryId","files"],methods:{destroy:function(t){var e=this;this.$store.dispatch("deleteMedia",{entryId:this.entryId,mediaId:t}).then(function(){e.$store.dispatch("getMedia",e.entryId)})}}}},147:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.files,function(e){return t.files.length>0?n("div",{key:e.id,staticClass:"media mb-1"},[n("img",{staticClass:"d-flex mr-3",attrs:{src:e.attributes.url,alt:""}}),t._v(" "),n("div",{staticClass:"media-body"},[n("h6",{staticClass:"mt-0"},[t._v(t._s(e.attributes.name))]),t._v(" "),n("p",[n("small",[t._v("Added "+t._s(e.attributes.created_at))])]),t._v(" "),n("button",{staticClass:"btn btn-danger btn-sm",attrs:{type:"button"},on:{click:function(n){t.destroy(e.id)}}},[t._v("Delete File")])])]):t._e()}))},staticRenderFns:[]}},148:function(t,e,n){var r=n(46)(n(149),n(150),!1,null,null,null);t.exports=r.exports},149:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["entryId","journalId"],methods:{destroy:function(){var t=this;this.$store.dispatch("deleteEntry",this.entryId).then(function(){t.$store.dispatch("getEntries",t.journalId);var e=t.journalId;t.$router.push({name:"journals.show",params:{journalId:e}})})}}}},150:function(t,e){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("button",{staticClass:"btn btn-danger",on:{click:this.destroy}},[this._v("Delete")])},staticRenderFns:[]}},333:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=d(n(334)),o=d(n(47)),s=d(n(138)),i=d(n(143)),a=d(n(148));function d(t){return t&&t.__esModule?t:{default:t}}e.default={props:["journalId","entryId"],data:function(){return{title:"",content:""}},components:{FilesBag:s.default,FilesList:i.default,DeleteEntryButton:a.default},watch:{$route:"fetchData"},created:function(){this.fetchData(),this.$on("receivedEntry",function(t){this.updateSizeOfTextarea(),this.title=new o.default(this.$store.state.encryption_password).decrypt(t.attributes.title),this.content=new o.default(this.$store.state.encryption_password).decrypt(t.attributes.content)})},methods:{fetchData:function(){this.$store.dispatch("getEntry",this.entryId),this.$store.dispatch("getMedia",this.entryId)},updateSizeOfTextarea:function(){(0,r.default)(document.querySelector("textarea"))},update:function(t){this.updateSizeOfTextarea(),this.content=t.target.value},store:function(){var t=this;this.$store.dispatch("updateEntry",{entryId:this.entry.id,title:new o.default(this.$store.state.encryption_password).encrypt(this.title),content:new o.default(this.$store.state.encryption_password).encrypt(this.content)}).then(function(){t.$store.dispatch("getEntry",t.entryId),t.$store.dispatch("getEntries",t.journalId),t.$router.push({name:"entries.show",params:{journalId:t.journalId,entryId:t.entryId}})})}},computed:{files:function(){return this.$store.state.files},entry:function(){return null!=this.$store.state.entry&&this.$emit("receivedEntry",this.$store.state.entry),this.$store.state.entry}}}},334:function(t,e,n){var r,o,s,i;i=function(t,e){"use strict";var n,r,o="function"==typeof Map?new Map:(n=[],r=[],{has:function(t){return n.indexOf(t)>-1},get:function(t){return r[n.indexOf(t)]},set:function(t,e){-1===n.indexOf(t)&&(n.push(t),r.push(e))},delete:function(t){var e=n.indexOf(t);e>-1&&(n.splice(e,1),r.splice(e,1))}}),s=function(t){return new Event(t,{bubbles:!0})};try{new Event("test")}catch(t){s=function(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!1),e}}function i(t){if(t&&t.nodeName&&"TEXTAREA"===t.nodeName&&!o.has(t)){var e,n=null,r=t.clientWidth,i=null,a=function(){t.clientWidth!==r&&c()},d=function(e){window.removeEventListener("resize",a,!1),t.removeEventListener("input",c,!1),t.removeEventListener("keyup",c,!1),t.removeEventListener("autosize:destroy",d,!1),t.removeEventListener("autosize:update",c,!1),Object.keys(e).forEach(function(n){t.style[n]=e[n]}),o.delete(t)}.bind(t,{height:t.style.height,resize:t.style.resize,overflowY:t.style.overflowY,overflowX:t.style.overflowX,wordWrap:t.style.wordWrap});t.addEventListener("autosize:destroy",d,!1),"onpropertychange"in t&&"oninput"in t&&t.addEventListener("keyup",c,!1),window.addEventListener("resize",a,!1),t.addEventListener("input",c,!1),t.addEventListener("autosize:update",c,!1),t.style.overflowX="hidden",t.style.wordWrap="break-word",o.set(t,{destroy:d,update:c}),"vertical"===(e=window.getComputedStyle(t,null)).resize?t.style.resize="none":"both"===e.resize&&(t.style.resize="horizontal"),n="content-box"===e.boxSizing?-(parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)):parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth),isNaN(n)&&(n=0),c()}function l(e){var n=t.style.width;t.style.width="0px",t.offsetWidth,t.style.width=n,t.style.overflowY=e}function u(){var e=t.style.height,o=function(t){for(var e=[];t&&t.parentNode&&t.parentNode instanceof Element;)t.parentNode.scrollTop&&e.push({node:t.parentNode,scrollTop:t.parentNode.scrollTop}),t=t.parentNode;return e}(t),s=document.documentElement&&document.documentElement.scrollTop;t.style.height="";var i=t.scrollHeight+n;0!==t.scrollHeight?(t.style.height=i+"px",r=t.clientWidth,o.forEach(function(t){t.node.scrollTop=t.scrollTop}),s&&(document.documentElement.scrollTop=s)):t.style.height=e}function c(){u();var e=Math.round(parseFloat(t.style.height)),n=window.getComputedStyle(t,null),r="content-box"===n.boxSizing?Math.round(parseFloat(n.height)):t.offsetHeight;if(r!==e?"hidden"===n.overflowY&&(l("scroll"),u(),r="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(t,null).height)):t.offsetHeight):"hidden"!==n.overflowY&&(l("hidden"),u(),r="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(t,null).height)):t.offsetHeight),i!==r){i=r;var o=s("autosize:resized");try{t.dispatchEvent(o)}catch(t){}}}}function a(t){var e=o.get(t);e&&e.destroy()}function d(t){var e=o.get(t);e&&e.update()}var l=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((l=function(t){return t}).destroy=function(t){return t},l.update=function(t){return t}):((l=function(t,e){return t&&Array.prototype.forEach.call(t.length?t:[t],function(t){return i(t)}),t}).destroy=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],a),t},l.update=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],d),t}),e.exports=l},o=[e,t],void 0===(s="function"==typeof(r=i)?r.apply(e,o):r)||(t.exports=s)},335:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card"},[n("div",{staticClass:"card-block"},[n("form",{on:{submit:function(e){e.preventDefault(),t.store(e)}}},[n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"form-control",attrs:{type:"text",placeholder:"This is the title of your entry"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"form-group"},[n("textarea",{staticClass:"form-control",attrs:{placeholder:"The content of your entry. **Markdown** is *supported*!"},domProps:{value:t.content},on:{focus:t.updateSizeOfTextarea,input:t.update}})]),t._v("\n\n            "+t._s(t.entry.attributes.id)+"\n\n            "),n("files-bag",{attrs:{files:t.files,entryId:t.entryId}}),t._v(" "),n("files-list",{attrs:{files:t.files,entryId:t.entryId}})],1)]),t._v(" "),n("div",{staticClass:"card-footer"},[n("button",{staticClass:"btn btn-success",on:{click:t.store,keyup:function(e){return("button"in e||31===e.keyCode)&&e.metaKey?void t.store(e):null}}},[t._v("Save")]),t._v(" "),n("delete-entry-button",{attrs:{entryId:t.entryId,journalId:t.journalId}})],1)])},staticRenderFns:[]}}});